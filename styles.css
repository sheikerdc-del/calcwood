/* css */
/* Базовые переменные из вашего проекта — без изменений */
:root{
  --bg:#0b0f14;--bg2:#0f1722;--panel:#111821;--stroke:#1d2836;
  --txt:#e6eef8;--muted:#9fb0c8;--primary:#5cc489;--accent:#6ea0ff;
  --green-bg:#0f2a1a; --green-fg:#bff5d0; --green-border:#1e7a45;
  --red-bg:#31171a; --red-fg:#ffd2d2; --red-border:#7a2a2a;
  --status-shadow: 0 0 0 1px rgba(255,255,255,0.04) inset, 0 6px 16px rgba(0,0,0,.25);
  --icon-color:#e6eef8; --logo-color:#e6eef8;
}
:root[data-theme="light"]{
  --bg:#ffffff;--bg2:#f6f8fb;--panel:#ffffff;--stroke:#e3e8f0;
  --txt:#0b0f14;--muted:#3b4b66;--primary:#35bf7c;--accent:#4b86ff;
  --green-bg:#e9fbf1; --green-fg:#0b5d35; --green-border:#8fe3b3;
  --red-bg:#ffe9ec; --red-fg:#7a2a2a; --red-border:#ffc2c9;
  --status-shadow: 0 0 0 1px rgba(0,0,0,0.04) inset, 0 6px 16px rgba(0,0,0,.10);
  --icon-color:#0b0f14; --logo-color:#0b0f14;
}
@media (prefers-color-scheme: light){
  :root:not([data-theme]){
    --bg:#ffffff;--bg2:#f6f8fb;--panel:#ffffff;--stroke:#e3e8f0;
    --txt:#0b0f14;--muted:#3b4b66;--primary:#35bf7c;--accent:#4b86ff;
    --green-bg:#e9fbf1; --green-fg:#0b5d35; --green-border:#8fe3b3;
    --red-bg:#ffe9ec; --red-fg:#7a2a2a; --red-border:#ffc2c9;
    --status-shadow: 0 0 0 1px rgba(0,0,0,0.04) inset, 0 6px 16px rgba(0,0,0,.10);
    --icon-color:#0b0f14; --logo-color:#0b0f14;
  }
}

/* База */
html,body{margin:0;padding:0;background:var(--bg);color:var(--txt);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
a{color:var(--accent);text-decoration:none}
.container{max-width:1080px;margin:0 auto;padding:0 16px}
.visually-hidden{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0}

/* Иконки */
.icon{display:inline-block;width:1em;height:1em;fill:var(--icon-color);vertical-align:-0.15em}
.icon.md{width:20px;height:20px}
.icon.lg{width:24px;height:24px}
.brand .icon{fill:var(--logo-color)}

/* Шапка */
.site-header{position:sticky;top:0;background:rgba(11,15,20,.8);backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid var(--stroke);z-index:10}
:root[data-theme="light"] .site-header{background:rgba(255,255,255,.8)}
.header-wrap{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px 0}
.brand{display:flex;align-items:center;gap:10px;color:var(--txt)}
.nav{display:flex;gap:12px;align-items:center;flex-wrap:wrap}

/* Кнопки — современная база */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:8px;
  padding:12px 14px;border-radius:12px;
  border:1px solid var(--stroke);background:var(--bg2);color:var(--txt);
  font-weight:600; line-height:1; min-height:44px;
  transition:transform .08s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease;
}
.btn:hover{transform:translateY(-1px);box-shadow:0 8px 20px rgba(0,0,0,.25)}
.btn:active{transform:translateY(0);box-shadow:0 3px 8px rgba(0,0,0,.2)}
.btn.primary{
  background:linear-gradient(180deg, color-mix(in oklab, var(--primary) 85%, #fff 15%), color-mix(in oklab, var(--accent) 80%, #000 20%));
  border:none;color:#071019;
}
.btn.ghost{background:transparent}
.icon-btn{background:transparent;border:1px solid var(--stroke);border-radius:10px;color:var(--txt);padding:8px 12px;font-size:18px;min-height:40px}

/* Фокус */
:where(a,button).btn:focus-visible,
.icon-btn:focus-visible,
details:focus-visible,
summary:focus-visible,
input[type="search"]:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
  box-shadow:0 0 0 4px color-mix(in oklab, var(--accent) 30%, transparent);
}

/* Hero */
.hero{padding:40px 0 10px;border-bottom:1px solid var(--stroke)}
.hero-wrap{display:grid;grid-template-columns:1.1fr .9fr;gap:24px;align-items:center}
.hero-text h1{margin:.2em 0 .3em;font-size:34px;line-height:1.15}
.hero-text p{color:var(--muted)}
.cta{display:flex;gap:12px;margin-top:14px;flex-wrap:wrap}
.hero-art img{width:100%;height:auto;border-radius:16px;border:1px solid var(--stroke);box-shadow:0 16px 40px rgba(0,0,0,.35)}

/* Разделы */
.benefits,.calculators,.faq{padding:36px 0;border-bottom:1px solid var(--stroke)}
h2{font-size:26px;margin:0 0 18px}

/* Преимущества */
.benefit-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;padding:0;list-style:none}
.benefit-list li{background:var(--panel);border:1px solid var(--stroke);border-radius:14px;padding:14px;box-shadow:0 10px 28px rgba(0,0,0,.18)}

/* Фильтр */
.filter{display:flex;gap:10px;align-items:center;margin:10px 0 18px}
.filter input[type="search"]{
  flex:1;min-width:200px;padding:12px 12px;border-radius:12px;border:1px solid var(--stroke);
  background:var(--panel);color:var(--txt);min-height:44px
}

/* Сетка карточек */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:16px;
}

/* Карточка — современная панель */
.card{
  display:flex;flex-direction:column;
  background:var(--panel);
  border:1px solid color-mix(in oklab, var(--stroke) 85%, transparent);
  border-radius:16px;overflow:hidden;
  box-shadow:0 16px 40px rgba(0,0,0,.28);
  transition:transform .12s ease, box-shadow .22s ease, border-color .18s ease;
}
.card:hover{transform:translateY(-2px);box-shadow:0 22px 60px rgba(0,0,0,.35);border-color:color-mix(in oklab, var(--accent) 20%, var(--stroke))}
.card__media{position:relative}
.card__media img{display:block;width:100%;height:auto;aspect-ratio:16/9;object-fit:cover}
.card__media::after{
  content:"";position:absolute;inset:0;pointer-events:none;
  background:linear-gradient(0deg, rgba(0,0,0,.28), rgba(0,0,0,.18))
}
:root[data-theme="light"] .card__media::after{
  background:linear-gradient(0deg, rgba(0,0,0,.20), rgba(0,0,0,.10))
}

/* Тело карточки — Grid для фиксации низа */
.card__body{
  display:grid;
  grid-template-rows:auto auto 1fr auto auto; /* title | desc | spacer | status | actions */
  gap:12px;
  padding:14px;
  min-height:300px; /* регулируйте под нужную высоту карточек */
}
.card__body h3{margin:0;font-size:18px;line-height:1.25}
.card__body p{margin:0;color:var(--muted)}

/* Статус — предпоследняя строка (всегда над кнопками) */
.status{
  display:inline-flex;align-items:center;gap:8px;
  padding:7px 12px;border-radius:999px;font-size:12px;line-height:1;
  color:var(--muted);background:#162130;border:1px solid rgba(255,255,255,.06);
  box-shadow:var(--status-shadow);
}
:root[data-theme="light"] .status{background:#eef3ff;border-color:rgba(0,0,0,.06)}
.status::before{
  content:"";width:8px;height:8px;border-radius:50%;background:#6b7280;box-shadow:0 0 0 2px rgba(255,255,255,.06) inset;
}
:root[data-theme="light"] .status::before{box-shadow:0 0 0 2px rgba(0,0,0,.06) inset}
.status--up{background:var(--green-bg);color:var(--green-fg);border-color:var(--green-border)}
.status--up::before{background:linear-gradient(180deg,#8bf0b0,#3bd786);box-shadow:0 0 0 2px rgba(61,190,120,.25)}
.status--down{background:var(--red-bg);color:var(--red-fg);border-color:var(--red-border)}
.status--down::before{background:linear-gradient(180deg,#ff9f9f,#ff5f5f);box-shadow:0 0 0 2px rgba(255,95,95,.25)}
.card__body [data-status]{grid-row:4;align-self:end}

/* Кнопки — последняя строка, симметричные и ровные */
.card__actions{
  grid-row:5;
  display:flex;gap:10px;align-items:stretch; /* одинаковая высота */
  margin-top:0;
}
.card__actions > .btn{flex:1 1 0; min-width:0} /* две кнопки одинаковой ширины */
.card__actions .btn .icon{flex:0 0 auto}

/* На широких — статус слева, кнопки справа в одну линию (опционально) */
@media (min-width:640px){
  .card__body{
    grid-template-rows:auto auto 1fr auto;
    grid-template-columns:1fr minmax(220px, 0.9fr);
  }
  .card__body [data-status]{grid-row:4;grid-column:1;align-self:center}
  .card__actions{grid-row:4;grid-column:2}
}

/* Skeleton */
.skeleton{position:relative;min-height:240px;background:linear-gradient(90deg, rgba(255,255,255,.04), rgba(255,255,255,.08), rgba(255,255,255,.04))}
:root[data-theme="light"] .skeleton{background:linear-gradient(90deg, rgba(0,0,0,.04), rgba(0,0,0,.08), rgba(0,0,0,.04))}
.skeleton::after{content:"";position:absolute;inset:0;animation:skeleton-shine 1.1s infinite linear;background:linear-gradient(90deg,transparent,rgba(255,255,255,.14),transparent)}
@keyframes skeleton-shine{from{transform:translateX(-100%)}to{transform:translateX(100%)}}

/* Модалка — сетка header | body | footer (без sticky) */
.modal{position:fixed;inset:0;display:grid;place-items:center}
.modal[hidden]{display:none}
.modal__overlay{position:absolute;inset:0;background:rgba(0,0,0,.6)}
.modal__dialog{
  position:relative;z-index:1;background:var(--panel);border:1px solid var(--stroke);border-radius:14px;
  max-width:min(1000px,96vw);width:96vw;max-height:90vh;
  display:grid;grid-template-rows:auto 1fr auto;overflow:hidden;
  box-shadow:0 24px 80px rgba(0,0,0,.45)
}
.modal__header,.modal__footer{
  display:flex;align-items:center;justify-content:space-between;gap:10px;padding:12px;border-bottom:1px solid var(--stroke)
}
.modal__footer{border-top:1px solid var(--stroke);border-bottom:none}

/* Контент модалки прокручивается, футер закреплён снизу диалога */
.modal__body{padding:12px;overflow:auto}
.frame-wrap{position:relative}
#calcFrame{
  width:100%;height:min(70vh,680px);
  border:1px solid var(--stroke);border-radius:12px;background:#0b0f14
}
.frame-notice{margin-top:10px;padding:12px;border:1px dashed var(--stroke);border-radius:12px}

/* Footer/FAQ */
.site-footer{padding:20px 0}
.footer-wrap{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;border-top:1px solid var(--stroke);padding-top:12px}
details{background:var(--panel);border:1px solid var(--stroke);border-radius:12px;margin-bottom:10px;padding:12px}

/* Адаптив */
@media (max-width:960px){.hero-wrap{grid-template-columns:1fr}}
@media (max-width:420px){
  .card__actions{flex-direction:column}
  .card__actions > .btn{width:100%}
}
