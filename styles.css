/* styles.css */
/* Темная тема по умолчанию (упрощенная, без переключателя) */
:root{
  --bg:#0b0f14;
  --bg2:#0f1722;
  --panel:#111821;
  --stroke:#1d2836;
  --txt:#e6eef8;
  --muted:#9fb0c8;
  --primary:#35bf7c;
  --accent:#6ea0ff;
  --green-bg:#0f2a1a; --green-fg:#bff5d0; --green-border:#1e7a45;
  --red-bg:#31171a; --red-fg:#ffd2d2; --red-border:#7a2a2a;
  --status-shadow: 0 0 0 1px rgba(255,255,255,0.04) inset, 0 6px 16px rgba(0,0,0,.25);
  --icon-color:#e6eef8; --logo-color:#e6eef8;
}

/* База */
html,body{margin:0;padding:0;background:var(--bg);color:var(--txt);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
a{color:var(--accent);text-decoration:none}
.container{max-width:1080px;margin:0 auto;padding:0 16px}
.visually-hidden{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0}

/* Иконки */
.icon{display:inline-block;width:1em;height:1em;fill:var(--icon-color);vertical-align:-0.15em}
.icon.md{width:20px;height:20px}
.icon.lg{width:24px;height:24px}
.brand .icon{fill:var(--logo-color)}

/* Шапка */
.site-header{position:sticky;top:0;background:rgba(11,15,20,.8);backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid var(--stroke);z-index:10}
.header-wrap{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px 0}
.brand{display:flex;align-items:center;gap:10px;color:var(--txt)}
.nav{display:flex;gap:12px;align-items:center;flex-wrap:wrap}

/* Кнопки — пилюльный стиль по умолчанию + чуть меньший шрифт */
.btn{
  --btn-py: 8px;        /* вертикальные отступы */
  --btn-px: 12px;       /* горизонтальные отступы */
  --btn-radius: 999px;  /* пилюля */
  --btn-font: 14px;     /* был ~16px, сделали чуть меньше */
  --btn-minh: 36px;     /* был 44px, теперь компактнее */

  display:inline-flex;align-items:center;justify-content:center;gap:8px;
  padding:var(--btn-py) var(--btn-px);
  border-radius:var(--btn-radius);
  border:1px solid var(--stroke);background:var(--bg2);color:var(--txt);
  font-weight:600;line-height:1.1;min-height:var(--btn-minh);
  font-size:var(--btn-font);
  transition:transform .08s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease, color .18s ease;
}
/* Иконки внутри кнопок подстраиваются под кегль */
.btn .icon{width:1em;height:1em;}

/* Ховеры/активные состояния */
.btn:hover{transform:translateY(-1px);box-shadow:0 8px 20px rgba(0,0,0,.25);border-color:#243040}
.btn:active{transform:translateY(0);box-shadow:0 3px 8px rgba(0,0,0,.2)}
.btn.primary{background:#17222d;border-color:#223042;color:#dff6ea}

/* Кнопка-иконка — тоже пилюля и компактнее */
.icon-btn{
  --btn-py: 6px;
  --btn-px: 10px;
  --btn-radius: 999px;
  --btn-font: 14px;
  --btn-minh: 34px;

  background:transparent;border:1px solid var(--stroke);
  border-radius:var(--btn-radius);color:var(--txt);
  padding:var(--btn-py) var(--btn-px);
  font-size:var(--btn-font);
  min-height:var(--btn-minh);
}

/* Фокус */
:where(a,button).btn:focus-visible,
.icon-btn:focus-visible,
details:focus-visible,
summary:focus-visible,
input[type="search"]:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
  box-shadow:0 0 0 4px rgba(110,160,255,.25);
}

/* Hero */
.hero{padding:40px 0 10px;border-bottom:1px solid var(--stroke)}
.hero-wrap{display:grid;grid-template-columns:1.1fr .9fr;gap:24px;align-items:center}
.hero-text h1{margin:.2em 0 .3ем;font-size:34px;line-height:1.15}
.hero-text p{color:var(--muted)}
.cta{display:flex;gap:12px;margin-top:14px;flex-wrap:wrap}
.hero-art img{width:100%;height:auto;border-radius:16px;border:1px solid var(--stroke);box-shadow:0 16px 40px rgba(0,0,0,.35)}

/* Разделы */
.benefits,.calculators,.faq{padding:36px 0;border-bottom:1px solid var(--stroke)}
h2{font-size:26px;margin:0 0 18px}

/* Преимущества */
.benefit-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;padding:0;list-style:none}
.benefit-list li{background:var(--panel);border:1px solid var(--stroke);border-radius:14px;padding:14px;box-shadow:0 10px 28px rgba(0,0,0,.18)}

/* Фильтр */
.filter{display:flex;gap:10px;align-items:center;margin:10px 0 18px}
.filter input[type="search"]{
  flex:1;min-width:200px;padding:12px;border-radius:12px;border:1px solid var(--stroke);
  background:var(--panel);color:var(--txt);min-height:44px
}

/* Сетка карточек */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}

/* Карточка */
.card{
  display:flex;flex-direction:column;background:var(--panel);
  border:1px solid rgba(255,255,255,.05);
  border-radius:16px;overflow:hidden;
  box-shadow:0 16px 40px rgba(0,0,0,.28);
  transition:transform .12s ease, box-shadow .22s ease, border-color .18s ease;
}
.card:hover{transform:translateY(-2px);box-shadow:0 22px 60px rgba(0,0,0,.35);border-color:#243040}
.card__media{position:relative}
.card__media img{display:block;width:100%;height:auto;aspect-ratio:16/9;object-fit:cover}
.card__media::after{content:"";position:absolute;inset:0;pointer-events:none;background:linear-gradient(0deg, rgba(0,0,0,.28), rgba(0,0,0,.18))}

/* Тело карточки — Grid, низ фиксируем через .card__bottom */
.card__body{
  display:grid;
  grid-template-rows:auto auto 1fr auto; /* title | desc | spacer | bottom */
  gap:12px;
  padding:14px;
  min-height:300px;
}
.card__body h3{margin:0;font-size:0px;line-height:1.25}
.card__body p{margin:0;color:var(--muted)}

/* Нижняя зона карточки: кнопки + статус строго внизу */
.card__bottom{
  display:grid;
  grid-template-rows:auto auto; /* actions | status */
  gap:10px;
  margin-top:auto;
}

/* Кнопки — симметричные */
.card__actions{display:flex;gap:10px;align-items:stretch}
.card__actions > .btn{flex:1 1 0;min-width:0}
.card__actions .icon{flex:0 0 auto}

/* ВЫРАВНИВАЕМ кнопки по размеру со статусом (в карточках) */
.card__actions .btn{
  padding:7px 12px;     /* как у .status */
  min-height:auto;
  height:auto;
  font-size:12px;       /* как у .status */
  line-height:1;        /* как у .status */
  border-radius:999px;  /* пилюля */
}
/* Иконка в «кнопке с иконкой» — компактная как статус */
.card__actions .btn .icon{width:1em;height:1em;} /* 1em = 12px при font-size:12px в кнопке */

/* Статус */
@keyframes status-pop { from { transform: scale(.96); opacity: 0; } to { transform: scale(1); opacity: 1; } }
.status{
  display:inline-flex;align-items:center;gap:8px;
  padding:7px 12px;border-radius:999px;font-size:12px;line-height:1;
  color:#c8d3e4;background:#121a22;border:1px solid #243040;
  box-shadow:var(--status-shadow);
  animation:status-pop .18s ease-out both;
}
.status::before{content:"";width:8px;height:8px;border-radius:50%;background:#6b7280;box-shadow:0 0 0 2px rgba(0,0,0,.25)}
.status--up{background:var(--green-bg);color:var(--green-fg);border-color:var(--green-border)}
.status--up::before{background:linear-gradient(180deg,#8bf0b0,#3bd786);box-shadow:0 0 0 2px rgba(61,190,120,.25)}
.status--down{background:var(--red-bg);color:var(--red-fg);border-color:var(--red-border)}
.status--down::before{background:linear-gradient(180deg,#ff9f9f,#ff5f5f);box-shadow:0 0 0 2px rgba(255,95,95,.25)}

/* На широких — статус слева, кнопки справа в одну линию */
@media (min-width:640px){
  .card__bottom{
    grid-template-columns:1fr minmax(220px,0.9fr);
    grid-template-rows:auto;
    align-items:center;
  }
  .card__actions{grid-column:2}
  .status{grid-column:1}
}

/* Skeleton */
.skeleton{position:relative;min-height:240px;background:linear-gradient(90deg, rgba(255,255,255,.04), rgba(255,255,255,.08), rgba(255,255,255,.04))}
.skeleton::after{content:"";position:absolute;inset:0;animation:skeleton-shine 1.1s infinite linear;background:linear-gradient(90deg,transparent,rgba(255,255,255,.14),transparent)}
@keyframes skeleton-shine{from{transform:translateX(-100%)}to{transform:translateX(100%)}}

/* Модалка — Grid: header | body | footer */
.modal{position:fixed;inset:0;display:grid;place-items:center}
.modal[hidden]{display:none}
.modal__overlay{position:absolute;inset:0;background:rgba(0,0,0,.6)}
.modal__dialog{
  position:relative;z-index:1;background:var(--panel);border:1px solid var(--stroke);border-radius:14px;
  max-width:min(1000px,96vw);width:96vw;max-height:90vh;
  display:grid;grid-template-rows:auto 1fr auto;overflow:hidden;
  box-shadow:0 24px 80px rgba(0,0,0,.45)
}
.modal__header,.modal__footer{
  display:flex;align-items:center;justify-content:space-between;gap:10px;padding:12px;border-bottom:1px solid var(--stroke)
}
.modal__footer{border-top:1px solid var(--stroke);border-bottom:none}

/* Контент модалки прокручивается, футер закреплён внизу диалога */
.modal__body{padding:12px;overflow:auto}
.frame-wrap{position:relative}
#calcFrame{
  width:100%;height:min(70vh,680px);
  border:1px solid var(--stroke);border-radius:12px;background:#0b0f14
}
.frame-notice{margin-top:10px;padding:12px;border:1px dashed var(--stroke);border-radius:12px}

/* Footer/FAQ */
.site-footer{padding:20px 0}
.footer-wrap{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;border-top:1px solid var(--stroke);padding-top:12px}
details{background:var(--panel);border:1px solid var(--stroke);border-radius:12px;margin-bottom:10px;padding:12px}

/* Адаптив */
@media (max-width:960px){.hero-wrap{grid-template-columns:1fr}}
@media (max-width:420px){
  .card__actions{flex-direction:column}
  .card__actions > .btn{width:100%}
}

/* Уважение предпочтений по уменьшению движения */
@media (prefers-reduced-motion: reduce){
  *{animation:none!important;transition:none!important}
}

/* Опционально: вернуть более крупный hit-area на тач-экранах */
/*
@media (pointer: coarse){
  .btn{ --btn-minh: 44px; --btn-py: 12px; --btn-px: 14px; --btn-font: 16px; }
  .icon-btn{ --btn-minh: 40px; --btn-py: 8px; --btn-px: 12px; --btn-font: 16px; }
}
*/